'use client';\n\nimport React, { useState } from 'react';\nimport TextInput from '../components/TextInput';\nimport MoodSelector from '../components/MoodSelector';\nimport OutputDisplay from '../components/OutputDisplay';\n\nexport default function HomePage() {\n  const [inputText, setInputText] = useState('');\n  const [selectedMood, setSelectedMood] = useState('Neutral');\n  const [outputText, setOutputText] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const moods = ['Neutral', 'Joyful', 'Formal', 'Informal', 'Angry', 'Sad', 'Excited', 'Professional', 'Sarcastic'];\n\n  const handleRewrite = async () => {\n    if (!inputText.trim()) {\n      setError('Please enter some text to rewrite.');\n      return;\n    }\n    setError(null);\n    setIsLoading(true);\n    setOutputText(''); // Clear previous output\n\n    try {\n      const response = await fetch('/api/rewrite', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ text: inputText, mood: selectedMood }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Something went wrong on the server.');\n      }\n\n      const data = await response.json();\n      setOutputText(data.rewrittenText);\n    } catch (err) {\n      console.error('Frontend fetch error:', err);\n      setError(err.message || 'Failed to connect to the AI service.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 max-w-3xl\">\n      <h1 className=\"text-4xl font-bold text-center my-8 text-gray-800\">AI Mood Rewriter</h1>\n\n      <div className=\"mb-6\">\n        <h2 className=\"text-xl font-semibold mb-2 text-gray-700\">1. Enter Your Text</h2>\n        <TextInput\n          text={inputText}\n          onChange={setInputText}\n          placeholder=\"Type or paste the text you want to rewrite...\"\n        />\n      </div>\n\n      <div className=\"mb-6\">\n        <h2 className=\"text-xl font-semibold mb-2 text-gray-700\">2. Select a Mood</h2>\n        <MoodSelector\n          moods={moods}\n          selectedMood={selectedMood}\n          onSelectMood={setSelectedMood}\n        />\n      </div>\n\n      <div className=\"mb-8\">\n        <button\n          onClick={handleRewrite}\n          disabled={isLoading || !inputText.trim()}\n          className={`w-full py-3 px-6 rounded-lg text-white font-bold text-lg \\\n            ${isLoading || !inputText.trim()\n              ? 'bg-blue-300 cursor-not-allowed'\n              : 'bg-blue-600 hover:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200'\n            }`}\n        >\n          {isLoading ? 'Rewriting...' : 'Rewrite Text'}\n        </button>\n      </div>\n\n      <div>\n        <h2 className=\"text-xl font-semibold mb-2 text-gray-700\">3. Rewritten Text</h2>\n        <OutputDisplay text={outputText} isLoading={isLoading} error={error} />\n      </div>\n    </div>\n  );\n}